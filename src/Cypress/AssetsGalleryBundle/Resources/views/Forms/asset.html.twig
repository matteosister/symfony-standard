{% extends "AssetsGalleryBundle:Gallery:form.html.twig" %}

{% form_theme form 'AssetsGalleryBundle:Forms:themes.html.twig' %}

{% block js_code %}
{% spaceless %}
<script>
    var folder_widget_id = '{{ form.folder.vars.id }}';
</script>
{% endspaceless %}
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {% javascripts "@AssetsGalleryBundle/Resources/javascripts/asset_form.js" filter="?yui_js" output="js/list.js" %}
        <script src="{{ asset_url }}"></script>
    {% endjavascripts %}
{% endblock %}

{% block content %}
<section class="assets-gallery-form">
    <form action="" class="bp" method="post" {{ form_enctype(form) }}>
        <fieldset>
            {{ form_errors(form) }}
            {{ form_row(form.file) }}
            {% if form.get('value').id is not null %}
                {% include 'AssetsGalleryBundle:Slices:asset_preview.html.twig' %}
            {% endif %}
            {{ form_row(form.name) }}
            {{ form_row(form.description) }}
            <section class="form-field">
                {{ form_label(form.folder) }}
                <section class="field">
                    {{ form_widget(form.folder) }}{% include 'AssetsGalleryBundle:Forms:folder_chooser.html.twig' %}
                </section>
                {{ form_errors(form.folder) }}
            </section>
            {{ form_row(form.folder) }}
            {{ form_rest(form) }}
            <section class="submit">
                <input type="submit" value="submit" />
            </section>
        </fieldset>
    </form>
</section>
{% endblock %}